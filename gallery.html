<script>
var Singleton = (function(){
	var inst;
	this.x = 'aaaa';
	function Singleton(name){
		if(!inst) inst = this;
		else return inst;		
		
	}
	
	return Singleton;
})()

var s1 = new Singleton();
var s2 = new Singleton();

console.log(s1 == s2);
//s1.x = 111;
console.log(s1.x);
console.log(s1 == s2);

// 

function Foo2(){ this.x = 'AAA'; }
var foo = new Foo2(); console.log(foo.x);

function Foo(){ this.x = 'AAA'; return { x : this.x } }
var foo = new Foo(); console.log(foo.x);


</script>